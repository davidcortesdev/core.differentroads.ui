<p-card styleClass="passenger-card-panel">
  <ng-template #header>
    <div class="passenger-header">
      <i class="pi pi-user"></i>
      <span class="passenger-type">{{getPassengerTypeLabel(passenger.type)}}</span>
    </div>
  </ng-template>
  
  <!-- View Mode -->
  <div class="passenger-content" *ngIf="!isEditing">
    <div class="passenger-name">
      <h3>{{passenger.fullName}}</h3>
    </div>
    
    <div class="passenger-details">
      <div class="detail-row">
        <span class="detail-label">Habitación:</span>
        <span class="detail-value">{{passenger.room}}</span>
      </div>
      
      <div class="detail-row">
        <span class="detail-label">Sexo:</span>
        <span class="detail-value">{{passenger.gender}}</span>
      </div>
      
      <div class="detail-row">
        <span class="detail-label">Documento:</span>
        <span class="detail-value">{{passenger.documentType}} {{passenger.documentNumber}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.documentExpeditionDate">
        <span class="detail-label">Fecha de expedición:</span>
        <span class="detail-value">{{formatDate(passenger.documentExpeditionDate)}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.documentExpirationDate">
        <span class="detail-label">Fecha de caducidad:</span>
        <span class="detail-value">{{formatDate(passenger.documentExpirationDate)}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.birthDate">
        <span class="detail-label">Fecha de nacimiento:</span>
        <span class="detail-value">{{formatDate(passenger.birthDate)}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.email">
        <span class="detail-label">Email:</span>
        <span class="detail-value">{{passenger.email}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.phone">
        <span class="detail-label">Teléfono:</span>
        <span class="detail-value">{{passenger.phone}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.comfortPlan">
        <span class="detail-label">Comfort Plan:</span>
        <span class="detail-value">{{passenger.comfortPlan}}</span>
      </div>
      
      <div class="detail-row" *ngIf="passenger.insurance">
        <span class="detail-label">Seguro:</span>
        <span class="detail-value">{{passenger.insurance}}</span>
      </div>
    </div>
  </div>
  
  <!-- Edit Mode -->
  <div class="passenger-content edit-mode" *ngIf="isEditing">
    <form [formGroup]="passengerForm">
      <div class="passenger-name">
        <h3>
          <input type="text" pInputText formControlName="fullName" class="w-full">
        </h3>
      </div>
      
      <div class="passenger-details">
        <div class="detail-row">
          <span class="detail-label">Habitación:</span>
          <input type="text" pInputText formControlName="room" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Sexo:</span>
          <input type="text" pInputText formControlName="gender" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Tipo de Documento:</span>
          <input type="text" pInputText formControlName="documentType" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Número de Documento:</span>
          <input type="text" pInputText formControlName="documentNumber" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Fecha de expedición:</span>
          <input type="text" pInputText formControlName="documentExpeditionDate" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Fecha de caducidad:</span>
          <input type="text" pInputText formControlName="documentExpirationDate" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Fecha de nacimiento:</span>
          <input type="text" pInputText formControlName="birthDate" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Email:</span>
          <input type="text" pInputText formControlName="email" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Teléfono:</span>
          <input type="text" pInputText formControlName="phone" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Comfort Plan:</span>
          <input type="text" pInputText formControlName="comfortPlan" class="detail-value">
        </div>
        
        <div class="detail-row">
          <span class="detail-label">Seguro:</span>
          <input type="text" pInputText formControlName="insurance" class="detail-value">
        </div>
      </div>
    </form>
  </div>
  
  <ng-template #footer>
    <div class="passenger-footer">
      <!-- Edit button in view mode -->
      <p-button 
        *ngIf="!isEditing"
        icon="pi pi-pencil" 
        styleClass="p-button-rounded p-button-text" 
        pTooltip="Editar pasajero"
        (onClick)="onEdit()">
      </p-button>
      
      <!-- Save buttons in edit mode -->
      <div *ngIf="isEditing" class="edit-buttons">
        <p-button 
          label="Guardar" 
          icon="pi pi-check" 
          styleClass="p-button-success"
          (onClick)="onSave()">
        </p-button>
        <p-button 
          icon="pi pi-times" 
          styleClass="p-button-text p-button-danger ml-2"
          (onClick)="onCancel()">
        </p-button>
      </div>
    </div>
  </ng-template>
</p-card>