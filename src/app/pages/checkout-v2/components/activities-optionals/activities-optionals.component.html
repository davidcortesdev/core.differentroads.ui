<div class="optional-activities" *ngIf="optionalActivities && optionalActivities.length > 0">
    <div class="step">
      <div class="step-title">Agrega actividades</div>
      <div class="step-description">
        <i class="pi pi-info-circle"></i>También puedes añadirlas después desde tu perfil
      </div>
    </div>
    
    <p-dataview #dv [value]="optionalActivities">
      <ng-template #list let-items>
        <div class="dataview-grid">
          <div class="dataview-item" *ngFor="let item of items; let first = first">
            <div class="dataview-card" [ngClass]="{ 'dataview-card-border': !first }">
              <div class="dataview-image">
                <img
                  class="dataview-img"
                  [src]="item.imageUrl || ''"
                  [alt]="item.name"
                  loading="lazy"
                />
              </div>
              
              <div class="dataview-content">
                <div class="dataview-info">
                  <div>
                    <div class="dataview-name">
                      {{ item.name }}
                    </div>
                    <div class="dataview-description" [innerHTML]="item.description"></div>
                  </div>
                </div>
                
                <div class="dataview-actions">
                  <div class="dataview-price" *ngIf="getBasePrice(item) !== null">
                    <span class="dataview-price-value">
                      +{{ getBasePrice(item)! | currencyFormat : "EUR" }}
                    </span>
                    <span class="dataview-per-person"> por persona </span>
                  </div>
                  
                  <div class="dataview-buttons">
                    <p-button
                      class="dataview-buy-button"
                      [label]="isActivityAdded(item) ? 'Eliminar' : 'Añadir'"
                      [rounded]="true"
                      [styleClass]="isActivityAdded(item) ? 'added-button' : ''"
                      (click)="toggleActivity(item)"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </p-dataview>
  </div>