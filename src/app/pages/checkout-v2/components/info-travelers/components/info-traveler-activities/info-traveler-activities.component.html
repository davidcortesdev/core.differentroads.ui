<div class="traveler-activities" *ngIf="(travelerActivities && travelerActivities.length > 0) || (travelerActivityPacks && travelerActivityPacks.length > 0)">
  <h4>Actividades asignadas:</h4>
  <div class="activities-list">
    <!-- Actividades individuales (memoria visible) -->
    <ng-container *ngFor="let activityId of visibleActivityIds">
      <div *ngIf="getActivityName(activityId)" class="activity-item" style="display: flex; justify-content: space-between; align-items: center; padding: 5px 0;">
        <div class="activity-info">
          <h5><strong>{{ getActivityName(activityId) }}</strong></h5>
        </div>
        <div class="activity-toggle-container">
          <p-progressSpinner 
            *ngIf="isSavingActivity(activityId)"
            styleClass="activity-saving-spinner"
            [style]="{ width: '20px', height: '20px' }">
          </p-progressSpinner>
          <p-toggleSwitch 
            *ngIf="!isSavingActivity(activityId)"
            [ngModel]="!isTravelerActivityDeleted(activityId) && isCurrentlyAssigned(activityId)"
            [disabled]="isSavingActivity(activityId)"
            (ngModelChange)="onActivityToggleChange(activityId, $event)"
            [ngModelOptions]="{standalone: true}">
          </p-toggleSwitch>
        </div>
      </div>
    </ng-container>

    <!-- Paquetes de actividades (memoria visible) -->
    <ng-container *ngFor="let packId of visiblePackIds">
      <div *ngIf="getActivityName(packId)" class="activity-item" style="display: flex; justify-content: space-between; align-items: center; padding: 5px 0;">
        <div class="activity-info">
          <h5><strong>{{ getActivityName(packId) }}</strong></h5>
        </div>
        <div class="activity-toggle-container">
          <p-progressSpinner 
            *ngIf="isSavingActivity(packId)"
            styleClass="activity-saving-spinner"
            [style]="{ width: '20px', height: '20px' }">
          </p-progressSpinner>
          <p-toggleSwitch 
            *ngIf="!isSavingActivity(packId)"
            [ngModel]="!isTravelerActivityDeleted(packId) && isCurrentlyAssigned(packId)"
            [disabled]="isSavingActivity(packId)"
            (ngModelChange)="onActivityToggleChange(packId, $event)"
            [ngModelOptions]="{standalone: true}">
          </p-toggleSwitch>
        </div>
      </div>
    </ng-container>
  </div>
</div>


