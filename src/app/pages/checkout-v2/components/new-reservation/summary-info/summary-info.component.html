<!-- summary-info.component.html -->

<!-- Loading state -->
<div class="loading-container" *ngIf="loading">
    <p-progressSpinner styleClass="reservation-loader"></p-progressSpinner>
  </div>
  
  <!-- Error state -->
  <div *ngIf="error && !loading" class="error-container">
    <i class="pi pi-exclamation-triangle" style="font-size: 3rem; color: #f05a4c"></i>
    <h2>Error en resumen de reserva - Información no encontrada</h2>
    <p>Por favor, inténtalo de nuevo más tarde o ponte en contacto con nuestro equipo de soporte.</p>
  </div>
  
  <!-- Content -->
  <p-panel styleClass="price-pan" *ngIf="!loading && !error">
    <ng-template pTemplate="header">
      <div class="pan-hdr">Precio total / Servicios contratados</div>
    </ng-template>
    
    <p-table [value]="priceDetails" styleClass="price-tbl">
      <ng-template pTemplate="header">
        <tr>
          <th>Descripción</th>
          <th>Importe</th>
          <th>Cantidad</th>
          <th>Total</th>
        </tr>
      </ng-template>
      
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{item.description}}</td>
          <td>{{item.amount | number:'1.0-0' }} €</td>
          <td>{{item.quantity}}</td>
          <td>{{item.total | number:'1.0-0' }} €</td>
        </tr>
      </ng-template>
      
      <ng-template pTemplate="footer">
        <tr class="last-row">
          <td colspan="3" class="txt-left">Total</td>
          <td>{{totalPrice | number:'1.0-0' }} €</td>
        </tr>
      </ng-template>
    </p-table>
  </p-panel>