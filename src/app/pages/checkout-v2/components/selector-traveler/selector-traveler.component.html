<div class="traveler-selector">
  <div class="step">
    <div class="step-title">Agrega los viajeros y las habitaciones</div>
  </div>
  
  <h3 class="traveler-selector-title">Número de pasajeros</h3>
  
  <!-- Error message -->
  <div *ngIf="error && !loading" class="messages">
    <div class="error-message">
      <i class="pi pi-exclamation-triangle"></i>
      <p>{{ error }}</p>
    </div>
  </div>
  
  <div class="traveler-selector-wrap" *ngIf="!loading && !loadingAgeGroups">
    <!-- Adultos -->
    <div
      class="traveler-selector-wrap-item"
      *ngIf="dynamicAvailableTravelers.includes('Adultos')"
    >
      <div class="traveler-selector-wrap-item-group">
        <span class="traveler-selector-wrap-item-name">Adultos</span>
        <span class="traveler-selector-wrap-item-description">
          {{ getAgeRangeText('adults') }}
        </span>
      </div>
      <p-inputNumber
        [(ngModel)]="travelersNumbers.adults"
        (ngModelChange)="handlePassengers($event, 'adults')"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        placeholder="0"
        [disabled]="loading"
      >
        <ng-template #incrementbuttonicon>
          <span class="pi pi-chevron-up"></span>
        </ng-template>
        <ng-template #decrementbuttonicon>
          <span class="pi pi-chevron-down"></span>
        </ng-template>
      </p-inputNumber>
    </div>
    
    <!-- Niños -->
    <div
      class="traveler-selector-wrap-item"
      *ngIf="dynamicAvailableTravelers.includes('Niños')"
    >
      <div class="traveler-selector-wrap-item-group">
        <span class="traveler-selector-wrap-item-name">Niños</span>
        <span class="traveler-selector-wrap-item-description">
          {{ getAgeRangeText('childs') }}
        </span>
      </div>
      <p-inputNumber
        [(ngModel)]="travelersNumbers.childs"
        (ngModelChange)="handlePassengers($event, 'childs')"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        placeholder="0"
        [disabled]="loading"
      >
        <ng-template #incrementbuttonicon>
          <span class="pi pi-chevron-up"></span>
        </ng-template>
        <ng-template #decrementbuttonicon>
          <span class="pi pi-chevron-down"></span>
        </ng-template>
      </p-inputNumber>
    </div>
    
    <!-- Bebés -->
    <div
      class="traveler-selector-wrap-item"
      *ngIf="dynamicAvailableTravelers.includes('Bebés')"
    >
      <div class="traveler-selector-wrap-item-group">
        <span class="traveler-selector-wrap-item-name">Bebés</span>
        <span class="traveler-selector-wrap-item-description">
          {{ getAgeRangeText('babies') }}
        </span>
      </div>
      <p-inputNumber
        [(ngModel)]="travelersNumbers.babies"
        (ngModelChange)="handlePassengers($event, 'babies')"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        placeholder="0"
        [disabled]="loading"
      >
        <ng-template #incrementbuttonicon>
          <span class="pi pi-chevron-up"></span>
        </ng-template>
        <ng-template #decrementbuttonicon>
          <span class="pi pi-chevron-down"></span>
        </ng-template>
      </p-inputNumber>
    </div>
  </div>
  
  <!-- Messages -->
  <div class="messages">
    <div *ngIf="adultsErrorMsg" class="error-message">
      <i class="pi pi-info-circle"></i>
      <p>{{ adultsErrorMsg }}</p>
    </div>
  </div>
</div>