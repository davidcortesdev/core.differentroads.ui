<div class="traveler-selector">
  <div class="step">
    <div class="step-title">Agrega los viajeros y las habitaciones</div>
  </div>

  <h3 class="traveler-selector-title">NÃºmero de pasajeros</h3>

  <!-- Error message -->
  <div *ngIf="error && !loading" class="messages">
    <div class="error-message">
      <i class="pi pi-exclamation-triangle"></i>
      <p>{{ error }}</p>
    </div>
  </div>

  <div class="traveler-selector-wrap" *ngIf="!loading && !loadingAgeGroups">
    <div
      class="traveler-selector-wrap-item"
      *ngFor="let travelerType of travelerTypes; trackBy: trackByTravelerType"
    >
      <div class="traveler-selector-wrap-item-group">
        <span class="traveler-selector-wrap-item-name">{{
          travelerType.label
        }}</span>
        <span class="traveler-selector-wrap-item-description">
          {{ getAgeRangeText(travelerType.ageGroup) }}
        </span>
      </div>
      <p-inputNumber
        [(ngModel)]="travelersNumbers[travelerType.key]"
        (ngModelChange)="handlePassengers($event, travelerType.key)"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        [min]="travelerType.min"
        [max]="travelerType.max"
        placeholder="0"
        [disabled]="loading"
        [class.input-error]="adultsErrorMsg && travelerType.key === 'adults'"
        [class.input-warning]="
          travelerType.key === 'adults' && travelersNumbers.adults === 0
        "
      >
        <ng-template #incrementbuttonicon>
          <span class="pi pi-chevron-up"></span>
        </ng-template>
        <ng-template #decrementbuttonicon>
          <span class="pi pi-chevron-down"></span>
        </ng-template>
      </p-inputNumber>
    </div>
  </div>

  <!-- Messages -->
  <div class="messages">
    <div *ngIf="adultsErrorMsg" class="error-message">
      <i class="pi pi-info-circle"></i>
      <p>{{ adultsErrorMsg }}</p>
    </div>
  </div>
</div>
