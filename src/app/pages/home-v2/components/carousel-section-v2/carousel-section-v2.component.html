<section *ngIf="isActive" class="carousel-section">
  <!-- Título y descripción de la sección -->
  <div class="carousel-section-description">
    <h2 *ngIf="title" class="section-title">{{ title }}</h2>
    <div
      *ngIf="textContent"
      class="description"
      [innerHTML]="sanitizeHtml(textContent)"
    ></div>
  </div>

  <!-- Carrusel de cards -->
  <div class="carousel-section-carousel" *ngIf="cards.length > 0; else noCards">
    <p-carousel
      [value]="cards"
      [numVisible]="3"
      [numScroll]="1"
      [responsiveOptions]="responsiveOptions"
      [showNavigators]="false"
      [autoplayInterval]="carouselConfig.DEFAULT_AUTOPLAY_INTERVAL"
    >
      <ng-template let-card #item>
        <div class="carousel-card">
          <div class="carousel-card-image-wrapper">
            <div class="carousel-card-image">
              <img
                [src]="card.image.url"
                [alt]="card.image.alt"
                loading="lazy"
              />
              <div class="carousel-card-overlay">
                <div class="carousel-card-content">
                  <h4 *ngIf="card.title" class="carousel-card-title">
                    {{ card.title }}
                  </h4>
                  <p
                    *ngIf="card.description"
                    class="carousel-card-description"
                    [innerHTML]="sanitizeHtml(card.description)"
                  ></p>
                  <p-button
                    *ngIf="card.buttonText && card.link"
                    type="button"
                    [label]="card.buttonText"
                    class="carousel-card-button p-button-rounded"
                    [rounded]="true"
                    size="small"
                    (onClick)="onClick(card.link)"
                  ></p-button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>

  <!-- Estado sin cards -->
  <ng-template #noCards>
    <div class="no-cards-message">
      <p>No hay contenido disponible para mostrar en el carrusel.</p>
    </div>
  </ng-template>
</section>