<section class="hero">
  <ng-container *ngIf="bannerSection; else loadingState">
    <ng-container *ngIf="!bannerSection.bType; else videoContent">
      <ng-container *ngFor="let image of bannerSection['banner-image']">
        <img
          [src]="image.url"
          [alt]="image.alt || ''"
          class="hero-bg"
        />
      </ng-container>
    </ng-container>
    <ng-template #videoContent>
      <video
        *ngIf="bannerSection['banner-video']"
        class="hero-bg"
        autoplay
        loop
        muted
      >
        <source [src]="bannerSection['banner-video']" type="video/mp4" />
      </video>
    </ng-template>
  </ng-container>

  <ng-template #loadingState>
    <div class="spinner">
      <p-progressSpinner></p-progressSpinner>
    </div>
  </ng-template>
  
  <div class="hero-search">
    <div class="hero-form">
      <div class="input-lg">
        <p-iftalabel>
          <input
            pInputText
            id="destionationInput"
            autocomplete="off"
            placeholder="Pais, Ciudad, Ofertas, Destinos, todo lo que se te ocurra..."
            class="input-text radius firstElement"
            fluid="true"
            [(ngModel)]="destinationInput"
            (keyup.enter)="searchTrips()"
          />
          <label for="destionationInput" class="label">¿Cuál es tu próximo destino?</label>
        </p-iftalabel>
      </div>
      <div class="input-sm">
        <p-iftaLabel>
          <p-datepicker
            [(ngModel)]="departureDate"
            [showIcon]="false"
            id="departureDateInput"
            fluid="true"
            placeholder="DD/MM/AAAA"
          >
          </p-datepicker>
          <label for="departureDateInput" class="label">Ida</label>
        </p-iftaLabel>
      </div>
      <div class="input-sm">
        <p-iftaLabel>
          <p-datepicker
            [(ngModel)]="returnDate"
            [showIcon]="false"
            id="returnDateInput"
            fluid="true"
            placeholder="DD/MM/AAAA"
          >
          </p-datepicker>
          <label for="returnDateInput" class="label">Vuelta</label>
        </p-iftaLabel>
      </div>
      <div class="input-md">
        <p-iftaLabel>
          <p-dropdown
            [options]="tripTypes"
            [(ngModel)]="selectedTripType"
            id="tripTypeInput"
            placeholder="Seleccionar tipo"
            fluid="true"
            class="border"
            [appendTo]="'body'"
            [showClear]="true"
            [panelStyleClass]="'custom-dropdown-panel'"
          >
          </p-dropdown>
          <label for="tripTypeInput" class="label">Tipo de viaje</label>
        </p-iftaLabel>
      </div>
      <div class="input-sm">
        <p-button
          type="button"
          icon="pi pi-search"
          fluid="true"
          styleClass="btn-search radius"
          (click)="searchTrips()"
        ></p-button>
      </div>
    </div>
  </div>
</section>