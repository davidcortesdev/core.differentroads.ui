<div
  class="auth-card-container"
  [ngStyle]="{ 'background-image': 'url(assets/images/fondo-auth.jpeg)' }"
>
  <div class="auth-card-overlay"></div>
  <div class="auth-layout">
    <div class="sign-up-form">
      <h1 class="font-base font-medium sign-up-form-title">
        ¡Inicia sesión para continuar con tu compra y aprovecha al máximo tu
        experiencia!
      </h1>
      <div>
        <button
          type="button"
          (click)="signInWithGoogle()"
          [class.is-loading]="isLoading"
          [disabled]="isLoading"
          class="sign-up-form-btngoogle"
        >
          <i class="icon icon-google-brands-solid font-lg mr-4"></i>
          Iniciar sesión con Google
        </button>
      </div>
      <div>
        <p class="mt-6 sign-up-form-text">O iniciar sesión de forma manual</p>
      </div>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="input-group mt-4">
          <input
            type="text"
            id="sign-up-field-email"
            placeholder="E-mail"
            class="font-sm"
            formControlName="username"
          />
          <p
            *ngIf="loginForm.get('username')?.errors?.['required']"
            class="font-xs error-underline"
            role="alert"
          >
            El nombre de usuario es obligatorio.
          </p>
        </div>

        <div class="input-group font-sm mt-4 password">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="sign-up-field-password"
            placeholder="Contraseña"
            formControlName="password"
            class="font-sm"
          />
          <button
            type="button"
            class="icon icon-remove_red_eye password-toggle"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="
              showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'
            "
            [title]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
          >
            <span class="sr-only">{{
              showPassword ? "Ocultar contraseña" : "Mostrar contraseña"
            }}</span>
          </button>
          <p
            *ngIf="loginForm.get('password')?.errors?.['required']"
            class="font-xs error-underline"
            role="alert"
          >
            La contraseña es obligatoria.
          </p>
        </div>

        <div class="input-group mt-4">
          <p *ngIf="errorMessage" class="font-xs error-underline" role="alert">
            {{ errorMessage }}
          </p>
        </div>
        <a routerLink="/forget-password">
          <p class="sign-up-form-link">
            <span class="sign-up-form-link-span"
              >¿Has olvidado tu contraseña?</span
            >
          </p>
        </a>
        <button
          type="submit"
          class="p-4 mt-4 btn btn-full-center sign-up-form-btnsingup"
          [class.is-loading]="isLoading"
          [disabled]="isLoading"
        >
          Iniciar sesión
        </button>
        <a routerLink="/sign-up">
          <p class="sign-up-form-link">
            ¿Aun no tienes cuenta?
            <span class="sign-up-form-link-span">Registrate aquí</span>
          </p>
        </a>
      </form>
    </div>
  </div>
</div>
