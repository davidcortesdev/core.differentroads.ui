<p-panel class="avatar-panel">
  <div class="avatar-name-section">
    <p-avatar
      *ngIf="personalInfo"
      [image]="personalInfo.avatarUrl || ''"
      size="xlarge"
      shape="circle"
      [style]="{ width: '100px', height: '100px' }"
    ></p-avatar>
    <h3 *ngIf="personalInfo">{{ personalInfo.nombre }}</h3>
  </div>
</p-panel>

<p-panel class="datos-panel">
  <ng-template pTemplate="header">
    <div class="panel-header">
      <span>Datos personales</span>
      <button class="edit-button" (click)="onEdit()">
        <i class="pi pi-pen-to-square"></i>
      </button>
    </div>
  </ng-template>

  <p-divider></p-divider>

  <div class="info-grid" *ngIf="personalInfo">
    <!-- Datos de contacto -->
    <div class="info-item">
      <span class="label">Teléfono:</span>
      <span class="value" [class.pending]="!personalInfo.telefono">
        {{ personalInfo.telefono || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Email:</span>
      <span class="value" [class.pending]="!personalInfo.email">
        {{ personalInfo.email || 'Pendiente' }}
      </span>
    </div>

    <!-- Datos personales -->
    <div class="info-item">
      <span class="label">Sexo:</span>
      <span class="value" [class.pending]="!personalInfo.sexo">
        {{ personalInfo.sexo || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Fecha de nacimiento:</span>
      <span class="value" [class.pending]="!personalInfo.fechaNacimiento">
        {{ personalInfo.fechaNacimiento || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Ciudad:</span>
      <span class="value" [class.pending]="!personalInfo.ciudad">
        {{ personalInfo.ciudad || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Código postal:</span>
      <span class="value" [class.pending]="!personalInfo.codigoPostal">
        {{ personalInfo.codigoPostal || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Nacionalidad:</span>
      <span class="value" [class.pending]="!personalInfo.nacionalidad">
        {{ personalInfo.nacionalidad || 'Pendiente' }}
      </span>
    </div>

    <p-divider></p-divider>

    <!-- Datos DNI -->
    <div class="info-item">
      <span class="label">DNI:</span>
      <span class="value" [class.pending]="!personalInfo.dni">
        {{ personalInfo.dni || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Fecha de expedición:</span>
      <span class="value" [class.pending]="!personalInfo.fechaExpedicionDni">
        {{ personalInfo.fechaExpedicionDni || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Fecha de caducidad:</span>
      <span class="value" [class.pending]="!personalInfo.fechaCaducidadDni">
        {{ personalInfo.fechaCaducidadDni || 'Pendiente' }}
      </span>
    </div>

    <p-divider></p-divider>

    <!-- Datos Pasaporte -->
    <div class="info-item">
      <span class="label">Pasaporte:</span>
      <span class="value" [class.pending]="!personalInfo.pasaporte">
        {{ personalInfo.pasaporte || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">País expedición:</span>
      <span class="value" [class.pending]="!personalInfo.paisExpedicion">
        {{ personalInfo.paisExpedicion || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Fecha de expedición:</span>
      <span class="value" [class.pending]="!personalInfo.fechaExpedicionPasaporte">
        {{ personalInfo.fechaExpedicionPasaporte || 'Pendiente' }}
      </span>
    </div>
    <div class="info-item">
      <span class="label">Fecha de caducidad:</span>
      <span class="value" [class.pending]="!personalInfo.fechaVencimientoPasaporte">
        {{ personalInfo.fechaVencimientoPasaporte || 'Pendiente' }}
      </span>
    </div>
  </div>

  <div class="alert-message">
    <i class="pi pi-info-circle"></i>
    <span>Completa tus datos personales pendientes antes de tu viaje. Estos datos son necesarios para la emisión de tus billetes.</span>
  </div>
</p-panel>