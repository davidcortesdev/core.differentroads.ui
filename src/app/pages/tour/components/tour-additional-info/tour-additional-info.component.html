<div class="">
  <p-card styleClass="">
    <div class="" (click)="handleSaveTrip()">
      <span class="bg-pink-100">
        <i class="pi pi-bookmark"></i>
      </span>
      <span class="">Guarda tu viaje</span>
    </div>
  </p-card>

  <p-dialog
    [(visible)]="visible"
    [modal]="true"
    [breakpoints]="{ '1199px': '80vw', '575px': '90vw' }"
    [style]="{ width: '50vw' }"
    [draggable]="false"
    [resizable]="false"
    class=""
  >
    <div class="content">
      <h4 class="content-title">Guarda el presupuesto de este viaje</h4>
      <p class="content-subtitle">
        Sujeto a disponibilidad en el momento de la reserva y sólo para salidas
        con stock
      </p>
      <div class="content-tour-selected">
        <p><i class="pi pi-sparkles"></i> {{ tourData?.name }}</p>

        <div class="content-tour-selected-items">
          <p>{{ selectedPeriod?.date }}</p>
          -
          <p>{{ selectedPeriod?.departureCity }}</p>
          -
          <p>{{ selectedPeriod?.tripType }}</p>
          <br />
          <p>{{ getTravelersText() }}</p>
        </div>
      </div>
      <div class="content-traveler-data">
        <p-iftalabel>
          <input
            pInputText
            id="name"
            [(ngModel)]="traveler.name"
            autocomplete="off"
          />
          <label for="name">Nombre del viajero</label>
        </p-iftalabel>
        <p-iftalabel>
          <input pInputText id="email" [(ngModel)]="traveler.email" />
          <label for="email">Email del viajero</label>
        </p-iftalabel>
        <p-iftalabel>
          <input
            pInputText
            id="phone"
            [(ngModel)]="traveler.phone"
            autocomplete="off"
          />
          <label for="phone">Telefono del viajero</label>
        </p-iftalabel>
      </div>
      <p-button
        label="Enviar presupuesto"
        (click)="saveTrip()"
        class="p-button-rounded"
        [loading]="loading"
      ></p-button>
      <p class="content-footer">
        Se enviará automáticamente una copia del presupuesto a tu correo y lo
        podrás consultar en tu perfil sección Mis presupuestos y favoritos
      </p>
    </div>
  </p-dialog>

  <p-card styleClass="claseBord">
    <div class="" (click)="handleDownloadTrip()">
      <span class="bg-pink-100">
        <i class="pi pi-download"></i>
      </span>
      <span class="">Descargar tu viaje</span>
    </div>
  </p-card>

  <p-card styleClass="">
    <div class="" (click)="handleInviteFriend()">
      <span class="bg-pink-100">
        <i class="pi pi-user-plus"></i>
      </span>
      <span class="">Invita a un amigo a tu viaje</span>
    </div>
  </p-card>
</div>

<div class="mt-4 additional-info">
  <p-accordion>
    <p-accordion-panel
      *ngFor="let card of tour?.['extra-info-section']?.['info-card']; let i = index"
      [value]="i"
    >
      <p-accordion-header>
        <ng-template #toggleicon let-active="active">
          @if (active) {
          <i class="pi pi-minus-circle"></i>
          } @else {
          <i class="pi pi-plus-circle"></i>
          }
        </ng-template>
        <div [innerHTML]="sanitizeHtml(card.title)"></div>
      </p-accordion-header>
      <p-accordion-content>
        <div [innerHTML]="sanitizeHtml(card.content)"></div>
      </p-accordion-content>
    </p-accordion-panel>
  </p-accordion>
</div>
