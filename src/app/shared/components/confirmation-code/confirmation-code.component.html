<div class="sign-up-form">
  <h1 class="sign-up-form-title mt-6">
    Confirmación de correo electrónico
  </h1>
  <p class="error-underline">
    Se ha enviado un código de confirmación a tu correo electrónico.
  </p>
  <form (ngSubmit)="onConfirm()" class="form-login" [formGroup]="confirmForm">
    <div class="input-group col-span-2">
      <input
        type="text"
        id="confirm-username"
        pInputText
        formControlName="username"
        placeholder="Nombre de usuario"
        class="input-field"
        readonly
      />
      <small *ngIf="confirmForm.get('username')?.errors" class="p-error">
        {{ getErrorMessage('username', confirmForm.get('username')?.errors) }}
      </small>
    </div>
    <div class="input-group mt-4 col-span-2">
      <input
        type="number"
        id="confirmationCode"
        pInputText
        formControlName="confirmationCode"
        placeholder="Código de confirmación"
        class="input-field"
        [disabled]="isRedirecting"
      />
      <small *ngIf="confirmForm.get('confirmationCode')?.errors" class="p-error">
        {{ getErrorMessage('confirmationCode', confirmForm.get('confirmationCode')?.errors) }}
      </small>
    </div>

    <!-- Mensaje de éxito -->
    <div class="input-group mt-4 col-span-2" *ngIf="successMessage">
      <small class="p-success">
        {{ successMessage }}
      </small>
    </div>

    <!-- Mensaje de error -->
    <div class="input-group mt-4 col-span-2" *ngIf="errorMessage">
      <small class="p-error">
        {{ errorMessage }}
      </small>
    </div>

    <p-button
      type="submit"
      label="Verificar código"
      [loading]="isLoading"
      [disabled]="isLoading || isRedirecting"
      [rounded]="true"
      size="large"
      class="p-button-primary p-button-block mt-4 col-span-2"
    ></p-button>
  </form>
</div>