:host {
  --review-title-size: 3rem;
  --review-heading-size: 1.79469rem;
  --review-text-size: 0.95719rem;
  --traveler-name-size: 1.4rem;
  --card-padding: 0.5rem;
  --content-height: 4rem;
  --skeleton-bg: #e0e0e0;
  --skeleton-highlight: #f0f0f0;
  --transition-duration: 0.3s;
  --p-card-background: white;
}

.reviews-section {
  // Skeleton styles
  .skeleton-container {
    .skeleton-card {
      height: 100%;

      .skeleton-traveler-name,
      .skeleton-tour-name,
      .skeleton-review-text,
      .skeleton-date,
      .skeleton-rating {
        background: var(--skeleton-bg);
        border-radius: 4px;
        animation: pulse 1.5s infinite ease-in-out;
      }

      .skeleton-traveler-name {
        height: var(--traveler-name-size);
        margin-bottom: 0.5rem;
        width: 70%;
      }

      .skeleton-tour-name {
        height: var(--review-text-size);
        margin-bottom: 1rem;
        width: 80%;
      }

      .skeleton-review-text {
        height: var(--content-height);
        width: 100%;
      }

      .skeleton-footer {
        display: flex;
        justify-content: space-between;
        margin-top: 1rem;
        width: 100%;

        .skeleton-date {
          height: var(--review-text-size);
          width: 30%;
        }

        .skeleton-rating {
          height: var(--review-text-size);
          width: 40%;
        }
      }
    }
  }

  @keyframes pulse {
    0%,
    100% {
      background-color: var(--skeleton-bg);
    }
    50% {
      background-color: var(--skeleton-highlight);
    }
  }

  ::ng-deep {
    .p-carousel {
      .padre {
        padding: var(--card-padding);
        height: 100%;
        background-color: transparent;
        transition: transform var(--transition-duration) ease;

        &:hover {
          transform: translateY(-5px);
        }

        .p-card {
          padding: var(--card-padding);
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          transition: box-shadow var(--transition-duration) ease;
          background-color: var(--p-card-background);

          &:hover {
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
          }

          .p-card-title {
            color: var(--background-azul);
            font-size: var(--traveler-name-size);
            font-weight: 500;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }

          .p-card-subtitle {
            color: var(--p-primary-color);
            font-size: var(--review-text-size);
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }

          .p-card-content {
            color: var(--background-azul);
            font-size: var(--review-text-size);
            height: var(--content-height);

            .review-text-container {
              color: inherit;
              display: -webkit-box;
              -webkit-line-clamp: 3;
              -webkit-box-orient: vertical;
              overflow: hidden;
              text-overflow: ellipsis;
              max-height: var(--content-height);
              cursor: pointer;

              &:hover {
                text-decoration: underline;
              }
            }
          }

          .p-card-footer {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            align-items: center;
            border: none;
            margin-top: 1rem;

            .date {
              color: var(--p-primary-color);
              font-size: var(--review-text-size);
            }

            .p-rating .p-rating-icon {
              color: var(--p-primary-color);
              font-size: var(--review-text-size);
              transition: color var(--transition-duration) ease;

              &.p-rating-icon-active {
                color: var(--p-primary-color);
              }
            }
          }
        }
      }
    }
  }
}

/* Responsive adjustments */
// Tablet - mantener configuración actual
@media (max-width: 1024px) and (min-width: 769px) {
  .reviews-section {
    ::ng-deep {
      .p-carousel .padre {
        // Mantener estilos actuales para tablet
      }
    }
  }
}

// Móvil - quitar margen bottom y ajustar espaciado
@media (max-width: 768px) {
  .reviews-section {
    margin-bottom: 0 !important; // Quitar margen bottom en móvil

    ::ng-deep {
      .p-carousel {
        margin-bottom: 0;

        .p-carousel-content {
          margin-bottom: 0;
        }

        .padre {
          margin-bottom: 0;

          .p-card {
            margin-bottom: 0;

            .p-card-title {
              font-size: calc(var(--traveler-name-size) * 0.9); // Slightly smaller on mobile
            }

            .p-card-content {
              height: calc(var(--content-height) * 0.9); // Slightly shorter on mobile

              .review-text-container {
                max-height: calc(var(--content-height) * 0.9);
              }
            }
          }
        }

        // Ajustar indicadores en móvil
        .p-carousel-indicators {
          margin-top: 0.5rem;
          margin-bottom: 0;

          .p-carousel-indicator {
            margin: 0 0.2rem;
          }
        }
      }
    }
  }
}

/* Estilos para el modal de reseña completa */
.full-review-content {
  padding: 1rem;

  .traveler-name {
    margin-top: 0;
    color: var(--background-azul);
    font-size: var(--traveler-name-size);
    font-weight: 500;
  }

  .tour-name {
    color: var(--p-primary-color);
    font-size: var(--review-text-size);
    margin-bottom: 1rem;
  }

  .review-text {
    color: var(--background-azul);
    font-size: var(--review-text-size);
    line-height: 1.5;
    margin-bottom: 1.5rem;
    white-space: pre-line;
  }

  .review-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;

    .date {
      color: var(--p-primary-color);
      font-size: var(--review-text-size);
    }
  }
}

/* Estilos para el diálogo */
::ng-deep .p-dialog {
  .full-review-content {
    padding: 0rem 1rem;
  }
}

// Tour name clickable styles
.tour-name {
  &.clickable {
    cursor: pointer;

    &:hover {
      text-decoration: underline;
      color: var(--p-primary-color-dark, #005a87);
      opacity: 0.8;
    }
  }
}

// Responsive modal adjustments
@media (max-width: 768px) {
  ::ng-deep .p-dialog {
    .p-dialog-header {
      padding: 1rem;
    }

    .full-review-content {
      padding: 0rem 0.5rem;

      .traveler-name {
        font-size: calc(var(--traveler-name-size) * 0.9);
      }

      .tour-name {
        font-size: calc(var(--review-text-size) * 0.95);
      }

      .review-text {
        font-size: calc(var(--review-text-size) * 0.95);
      }
    }
  }
}
