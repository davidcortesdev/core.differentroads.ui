<div class="tour-card" [ngClass]="{ isLarge: isLargeCard }">
  <p-card
    [style]="{
      'border-radius': '1rem',
      overflow: 'hidden',
      border: 'none',
      boxShadow: 'none'
    }"
    [styleClass]="'tour-card-wrapper'"
  >
    <ng-template pTemplate="header">
      <div class="image-container" (click)="handleTourClick()">
        <img [src]="tourData.imageUrl" [alt]="tourData.title" loading="lazy" />
        <div class="overlay">
          <span class="rating p-button-primary">{{ tourData.rating }} â˜…</span>
          <!-- <span class="indicator" *ngIf="tourData.isByDr !== undefined">
            {{ tourData.isByDr ? "By DR" : "Beyond Different" }}
          </span> -->
          <div class="tags-container">
            <span class="tag expandable-tag">
              <span class="short-text">
                <img
                  alt="dropdown icon"
                  src="favicon-different.png"
                  class="logo"
                  height="5px"
                />
              </span>
              <span class="expanded-content"
                >Tour creado por Different Roads</span
              >
            </span>
            <span class="tag" *ngIf="tourData.tag">{{ tourData.tag }}</span>
          </div>
          <div class="title-overlay">
            <p>{{ tourData.description }}</p>
            <h3>{{ tourData.title }}</h3>
          </div>
        </div>
      </div>
    </ng-template>

    <ng-template pTemplate="content">
      <div class="card-footer">
        <div class="price-content">
          <div class="price-section">
            <div class="price-info">
              <span class="desde">Desde</span>
              <span class="price">{{
                tourData.price | currencyFormat : "EUR"
              }}</span>
              <span class="priceScalapay" *ngIf="showScalapayPrice">
                o desde {{ monthlyPrice | currencyFormat : "EUR" }}/mes con
              </span>
              <img
                *ngIf="showScalapayPrice"
                src="assets/images/scalapay.svg"
                alt="ScalaPay"
                class="scalapay-logo"
              />
            </div>
            <div class="button-container">
              <div class="trip-type-container">
                <p-tag
                  *ngFor="let type of tourData.tripType"
                  class="trip-type"
                  [styleClass]="getTripTypeClass(type)"
                >
                  {{ getTripTypeLabel(type) }}
                </p-tag>
              </div>
              <p-button
                type="button"
                label="Ver tour"
                class="p-button-rounded buttonVertour"
                [rounded]="true"
                (onClick)="handleTourClick()"
              ></p-button>
            </div>
          </div>
          <div class="months">
            <p-tag
              *ngFor="let month of tourData.availableMonths"
              class="month"
              severity="info"
            >
              {{ month }}
            </p-tag>
          </div>
        </div>
      </div>
    </ng-template>
  </p-card>
</div>
